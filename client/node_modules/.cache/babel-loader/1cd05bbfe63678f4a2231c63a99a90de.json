{"ast":null,"code":"import { $authHost, $host } from \"./index\";\nimport jwt_decode from 'jwt-decode';\nexport const registration = async (login, email, password) => {\n  console.log('start');\n  const {\n    data\n  } = await $host.post('api/user/registration', {\n    login,\n    email,\n    password\n  });\n  console.log(data);\n  let user = jwt_decode(data.token);\n  console.log(user);\n  return data;\n};\nexport const login = async (loginOrEmail, password) => {\n  const {\n    data\n  } = await $host.post('api/user/login', {\n    loginOrEmail,\n    password\n  });\n  console.log(data.token);\n  return data;\n};\nexport const check = async () => {\n  try {\n    const {\n      data\n    } = await $authHost.get('api/user/auth');\n    localStorage.setItem('token', data.token);\n    return jwt_decode(data.token);\n  } catch (e) {\n    console.log(e);\n    console.log('error in userApi.Check');\n  }\n}; //\n// import {$authHost, $host} from \"./index\";\n// import jwt_decode from \"jwt-decode\";\n//\n// export const registration = async (email, password) => {\n//     const {data} = await $host.post('api/user/registration', {email, password, role: 'ADMIN'})\n//     localStorage.setItem('token', data.token)\n//     return jwt_decode(data.token)\n// }\n//\n// export const login = async (email, password) => {\n//     const {data} = await $host.post('api/user/login', {email, password})\n//     localStorage.setItem('token', data.token)\n//     return jwt_decode(data.token)\n// }\n//\n// export const check = async () => {\n//     const {data} = await $authHost.get('api/user/auth' )\n//     localStorage.setItem('token', data.token)\n//     return jwt_decode(data.token)\n// }","map":{"version":3,"sources":["/Users/nicole/form_auth/client/src/HTTP/userAPI.ts"],"names":["$authHost","$host","jwt_decode","registration","login","email","password","console","log","data","post","user","token","loginOrEmail","check","get","localStorage","setItem","e"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,KAAnB,QAA+B,SAA/B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAO,MAAMC,YAAY,GAAG,OAAOC,KAAP,EAAqBC,KAArB,EAAmCC,QAAnC,KAAsD;AAC9EC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,QAAM;AAACC,IAAAA;AAAD,MAAS,MAAMR,KAAK,CAACS,IAAN,CAAW,uBAAX,EAAoC;AAACN,IAAAA,KAAD;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,GAApC,CAArB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACA,MAAIE,IAAI,GAAGT,UAAU,CAACO,IAAI,CAACG,KAAN,CAArB;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ;AACA,SAAQF,IAAR;AACH,CAPM;AASP,OAAO,MAAML,KAAK,GAAG,OAAOS,YAAP,EAA4BP,QAA5B,KAA+C;AAEhE,QAAM;AAACG,IAAAA;AAAD,MAAS,MAAMR,KAAK,CAACS,IAAN,CAAW,gBAAX,EAA6B;AAACG,IAAAA,YAAD;AAAeP,IAAAA;AAAf,GAA7B,CAArB;AAGAC,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACG,KAAjB;AACA,SAAQH,IAAR;AAGH,CATM;AAWP,OAAO,MAAMK,KAAK,GAAG,YAAY;AAC7B,MAAI;AAEA,UAAM;AAACL,MAAAA;AAAD,QAAS,MAAMT,SAAS,CAACe,GAAV,CAAc,eAAd,CAArB;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BR,IAAI,CAACG,KAAnC;AACA,WAAOV,UAAU,CAACO,IAAI,CAACG,KAAN,CAAjB;AAEH,GAND,CAMC,OAAOM,CAAP,EAAS;AACNX,IAAAA,OAAO,CAACC,GAAR,CAAYU,CAAZ;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACH;AACJ,CAXM,C,CAaP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import {$authHost, $host} from \"./index\";\nimport jwt_decode from 'jwt-decode';\n\nexport const registration = async (login:string, email:string, password:string) =>{\n    console.log('start')\n    const {data} = await $host.post('api/user/registration', {login, email, password});\n    console.log(data)\n    let user = jwt_decode(data.token);\n    console.log(user)\n    return (data);\n};\n\nexport const login = async (loginOrEmail:string, password:string) =>{\n\n    const {data} = await $host.post('api/user/login', {loginOrEmail, password});\n\n\n    console.log(data.token);\n    return (data);\n\n\n};\n\nexport const check = async () => {\n    try {\n\n        const {data} = await $authHost.get('api/user/auth' );\n        localStorage.setItem('token', data.token)\n        return jwt_decode(data.token)\n\n    }catch (e){\n        console.log(e);\n        console.log('error in userApi.Check')\n    }\n}\n\n//\n// import {$authHost, $host} from \"./index\";\n// import jwt_decode from \"jwt-decode\";\n//\n// export const registration = async (email, password) => {\n//     const {data} = await $host.post('api/user/registration', {email, password, role: 'ADMIN'})\n//     localStorage.setItem('token', data.token)\n//     return jwt_decode(data.token)\n// }\n//\n// export const login = async (email, password) => {\n//     const {data} = await $host.post('api/user/login', {email, password})\n//     localStorage.setItem('token', data.token)\n//     return jwt_decode(data.token)\n// }\n//\n// export const check = async () => {\n//     const {data} = await $authHost.get('api/user/auth' )\n//     localStorage.setItem('token', data.token)\n//     return jwt_decode(data.token)\n// }\n"]},"metadata":{},"sourceType":"module"}